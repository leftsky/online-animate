import{d as f,i as g,o as c,u as e,B,C as h,w as a,z as _,c as V,e as s,y as C,b as u,a as y,n as P,A as N,v as S,k as m,f as U,h as I,x as A,j as D,l as M}from"./app-C_GDHT9f.js";import{a as z,_ as T}from"./Layout.vue_vue_type_script_setup_true_lang-DjEf6Qjp.js";import{_ as $,a as w,b as k}from"./Label.vue_vue_type_script_setup_true_lang-BetWBHIe.js";import{S as O,n as X,X as E,b as j,$ as q,P as H,a as v,O as F,d as K,B as R,o as G,_ as b}from"./Button.vue_vue_type_script_setup_true_lang-CIbMwWSV.js";import{X as J}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-g8KcmTw3.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-CKbRy5VI.js";import{S as Q}from"./transition-tdBLAgYS.js";import"./index-COKan6lW.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DjwQan-w.js";const W=f({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(d,{emit:r}){const n=O(d,r);return(p,t)=>(c(),g(e(X),B(h(e(n))),{default:a(()=>[_(p.$slots,"default")]),_:3},16))}}),Y=f({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(d){const r=d;return(o,i)=>(c(),g(e(E),B(h(r)),{default:a(()=>[_(o.$slots,"default")]),_:3},16))}}),Z=f({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(d,{emit:r}){const o=d,i=r,n=V(()=>{const{class:t,...l}=o;return l}),p=O(n,i);return(t,l)=>(c(),g(e(j),null,{default:a(()=>[s(e(q),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),s(e(H),C(e(p),{class:e(v)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o.class)}),{default:a(()=>[_(t.$slots,"default"),s(e(E),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:a(()=>[s(e(J),{class:"h-4 w-4"}),l[0]||(l[0]=u("span",{class:"sr-only"},"Close",-1))]),_:1,__:[0]})]),_:3},16,["class"])]),_:3}))}}),ee=f({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(d){const r=d,o=V(()=>{const{class:n,...p}=r;return p}),i=F(o);return(n,p)=>(c(),g(e(K),C(e(i),{class:e(v)("text-sm text-muted-foreground",r.class)}),{default:a(()=>[_(n.$slots,"default")]),_:3},16,["class"]))}}),se=f({__name:"DialogFooter",props:{class:{}},setup(d){const r=d;return(o,i)=>(c(),y("div",{class:P(e(v)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",r.class))},[_(o.$slots,"default")],2))}}),te=f({__name:"DialogHeader",props:{class:{}},setup(d){const r=d;return(o,i)=>(c(),y("div",{class:P(e(v)("flex flex-col gap-y-1.5 text-center sm:text-left",r.class))},[_(o.$slots,"default")],2))}}),ae=f({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(d){const r=d,o=V(()=>{const{class:n,...p}=r;return p}),i=F(o);return(n,p)=>(c(),g(e(R),C(e(i),{class:e(v)("text-lg font-semibold leading-none tracking-tight",r.class)}),{default:a(()=>[_(n.$slots,"default")]),_:3},16,["class"]))}}),oe=f({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(d){const r=d;return(o,i)=>(c(),g(e(G),B(h(r)),{default:a(()=>[_(o.$slots,"default")]),_:3},16))}}),le={class:"space-y-6"},re={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},ne={class:"grid gap-2"},de=f({__name:"DeleteUser",setup(d){const r=N(null),o=S({password:""}),i=p=>{p.preventDefault(),o.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>n(),onError:()=>{var t;return(t=r.value)==null?void 0:t.focus()},onFinish:()=>o.reset()})},n=()=>{o.clearErrors(),o.reset()};return(p,t)=>(c(),y("div",le,[s(z,{title:"删除账户",description:"删除您的账户及其所有资源"}),u("div",re,[t[7]||(t[7]=u("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[u("p",{class:"font-medium"},"警告"),u("p",{class:"text-sm"},"请谨慎操作，此操作无法撤销。")],-1)),s(e(W),null,{default:a(()=>[s(e(oe),{"as-child":""},{default:a(()=>[s(e(b),{variant:"destructive"},{default:a(()=>t[1]||(t[1]=[m("删除账户",-1)])),_:1,__:[1]})]),_:1}),s(e(Z),null,{default:a(()=>[u("form",{class:"space-y-6",onSubmit:i},[s(e(te),{class:"space-y-3"},{default:a(()=>[s(e(ae),null,{default:a(()=>t[2]||(t[2]=[m("您确定要删除您的账户吗？",-1)])),_:1,__:[2]}),s(e(ee),null,{default:a(()=>t[3]||(t[3]=[m(" 一旦您的账户被删除，其所有资源和数据将被永久删除。请输入您的密码以确认您要永久删除您的账户。 ",-1)])),_:1,__:[3]})]),_:1}),u("div",ne,[s(e($),{for:"password",class:"sr-only"},{default:a(()=>t[4]||(t[4]=[m("密码",-1)])),_:1,__:[4]}),s(e(w),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:r,modelValue:e(o).password,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).password=l),placeholder:"密码"},null,8,["modelValue"]),s(k,{message:e(o).errors.password},null,8,["message"])]),s(e(se),null,{default:a(()=>[s(e(Y),{"as-child":""},{default:a(()=>[s(e(b),{variant:"secondary",onClick:n},{default:a(()=>t[5]||(t[5]=[m(" 取消 ",-1)])),_:1,__:[5]})]),_:1}),s(e(b),{variant:"destructive",disabled:e(o).processing},{default:a(()=>t[6]||(t[6]=[u("button",{type:"submit"},"删除账户",-1)])),_:1,__:[6]},8,["disabled"])]),_:1})],32)]),_:1})]),_:1})])]))}}),ie={class:"flex flex-col space-y-6"},ue={class:"grid gap-2"},pe={class:"grid gap-2"},ce={key:0},me={class:"mt-2 text-sm text-neutral-800"},fe={key:0,class:"mt-2 text-sm font-medium text-green-600"},_e={class:"flex items-center gap-4"},he=f({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{},className:{}},setup(d){const r=[{title:"个人资料设置",href:"/settings/profile"}],i=U().props.auth.user,n=S({name:i.name,email:i.email}),p=()=>{n.patch(route("profile.update"),{preserveScroll:!0})};return(t,l)=>(c(),g(L,{breadcrumbs:r},{default:a(()=>[s(e(I),{title:"个人资料设置"}),s(T,null,{default:a(()=>[u("div",ie,[s(z,{title:"个人资料信息",description:"更新您的姓名和邮箱地址"}),u("form",{onSubmit:A(p,["prevent"]),class:"space-y-6"},[u("div",ue,[s(e($),{for:"name"},{default:a(()=>l[2]||(l[2]=[m("姓名",-1)])),_:1,__:[2]}),s(e(w),{id:"name",class:"mt-1 block w-full",modelValue:e(n).name,"onUpdate:modelValue":l[0]||(l[0]=x=>e(n).name=x),required:"",autocomplete:"name",placeholder:"请输入姓名"},null,8,["modelValue"]),s(k,{class:"mt-2",message:e(n).errors.name},null,8,["message"])]),u("div",pe,[s(e($),{for:"email"},{default:a(()=>l[3]||(l[3]=[m("邮箱地址",-1)])),_:1,__:[3]}),s(e(w),{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e(n).email,"onUpdate:modelValue":l[1]||(l[1]=x=>e(n).email=x),required:"",autocomplete:"username",placeholder:"请输入邮箱地址"},null,8,["modelValue"]),s(k,{class:"mt-2",message:e(n).errors.email},null,8,["message"])]),t.mustVerifyEmail&&!e(i).email_verified_at?(c(),y("div",ce,[u("p",me,[l[5]||(l[5]=m(" 您的邮箱地址尚未验证。 ",-1)),s(e(M),{href:t.route("verification.send"),method:"post",as:"button",class:"focus:outline-hidden rounded-md text-sm text-neutral-600 underline hover:text-neutral-900 focus:ring-2 focus:ring-offset-2"},{default:a(()=>l[4]||(l[4]=[m(" 点击此处重新发送验证邮件。 ",-1)])),_:1,__:[4]},8,["href"])]),t.status==="verification-link-sent"?(c(),y("div",fe," 新的验证链接已发送到您的邮箱地址。 ")):D("",!0)])):D("",!0),u("div",_e,[s(e(b),{disabled:e(n).processing},{default:a(()=>l[6]||(l[6]=[m("保存",-1)])),_:1,__:[6]},8,["disabled"]),s(e(Q),{show:e(n).recentlySuccessful,enter:"transition ease-in-out","enter-from":"opacity-0",leave:"transition ease-in-out","leave-to":"opacity-0"},{default:a(()=>l[7]||(l[7]=[u("p",{class:"text-sm text-neutral-600"},"已保存。",-1)])),_:1,__:[7]},8,["show"])])],32)]),s(de)]),_:1})]),_:1}))}});export{he as default};
