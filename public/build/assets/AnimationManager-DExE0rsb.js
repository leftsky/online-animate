import{k as ye,d as Ve,r as g,m as he,h as E,c as T,o as y,F as $,b as a,u as s,w as n,a as t,e as u,t as U,j,f as q,n as be,g as N,O as we,Y as Te}from"./app-Dynu5tc5.js";import{_ as F,a as B,b as J,c as K,d as Z}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Bnsa-2D0.js";import{_ as G}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DtC2VvC9.js";import{_ as b}from"./Button.vue_vue_type_script_setup_true_lang-BgPnemTW.js";import{a as p,_ as v}from"./Label.vue_vue_type_script_setup_true_lang-BZ8aVwwL.js";import{u as Ue}from"./useToast-zrdN7exZ.js";import{A as M}from"./AnimationParser-DYUHDxlX.js";import{S as H}from"./settings-C2RLwdqr.js";import{R as Se}from"./rotate-ccw-fWqiG3MN.js";import{S as Pe}from"./sparkles-B9kMw0gE.js";import{P as W,T as Q}from"./trash-2-CYySEXdi.js";import{S as ke,Z as Ae}from"./zap-D2Tn7i4y.js";import{L as ee}from"./loader-circle-BVPnn1NH.js";import{_ as Ye}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A=ye.create({baseURL:"/web/api",timeout:3e4,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});A.interceptors.request.use(i=>i,i=>Promise.reject(i));A.interceptors.response.use(i=>i.data,i=>{var f,L,S,V,w;const r={success:!1,code:((f=i.response)==null?void 0:f.status)||500,message:((S=(L=i.response)==null?void 0:L.data)==null?void 0:S.message)||i.message||"请求失败"};return(w=(V=i.response)==null?void 0:V.data)!=null&&w.errors&&(r.errors=i.response.data.errors),Promise.resolve(r)});async function se(i,r){return A.get(i,r)}async function te(i,r,f){return A.post(i,r,f)}async function Ce(i,r,f){return A.put(i,r,f)}async function Ie(i,r){return A.delete(i,r)}const mt={uploadFile(i,r={}){const f=new FormData;return f.append("file",i),r.type&&f.append("type",r.type),r.folder&&f.append("folder",r.folder),te("/upload",f,{headers:{"Content-Type":"multipart/form-data"}})}},De={getList(i={}){const r=new URLSearchParams;i.scene_id!==void 0&&r.append("scene_id",i.scene_id===null?"null":String(i.scene_id)),i.element_type&&r.append("element_type",i.element_type),i.status!==void 0&&r.append("status",String(i.status)),i.limit&&r.append("limit",String(i.limit)),i.offset&&r.append("offset",String(i.offset));const f=`/scene-contents${r.toString()?"?"+r.toString():""}`;return se(f)},create(i){return te("/scene-contents",i)},get(i){return se(`/scene-contents/${i}`)},update(i,r){return Ce(`/scene-contents/${i}`,r)},delete(i){return Ie(`/scene-contents/${i}`)}},Le={fadeIn:{id:"fadeIn",name:"淡入",description:"从透明到不透明",duration:1e3,easing:"ease-in-out",keyframes:[{startTime:0,duration:1e3,opacity:0},{startTime:1e3,duration:1e3,opacity:1}]},fadeOut:{id:"fadeOut",name:"淡出",description:"从不透明到透明",duration:1e3,easing:"ease-in-out",keyframes:[{startTime:0,duration:1e3,opacity:1},{startTime:1e3,duration:1e3,opacity:0}]},slideInLeft:{id:"slideInLeft",name:"左侧滑入",description:"从左侧滑入",duration:500,easing:"ease-out",keyframes:[{startTime:0,duration:500,x:-100},{startTime:500,duration:500,x:0}]},slideInRight:{id:"slideInRight",name:"右侧滑入",description:"从右侧滑入",duration:500,easing:"ease-out",keyframes:[{startTime:0,duration:500,x:100},{startTime:500,duration:500,x:0}]},slideInUp:{id:"slideInUp",name:"上方滑入",description:"从上方滑入",duration:500,easing:"ease-out",keyframes:[{startTime:0,duration:500,y:-100},{startTime:500,duration:500,y:0}]},slideInDown:{id:"slideInDown",name:"下方滑入",description:"从下方滑入",duration:500,easing:"ease-out",keyframes:[{startTime:0,duration:500,y:100},{startTime:500,duration:500,y:0}]},scaleIn:{id:"scaleIn",name:"缩放进入",description:"从小到大缩放",duration:300,easing:"ease-out",keyframes:[{startTime:0,duration:300,scale:0},{startTime:300,duration:300,scale:1}]},scaleOut:{id:"scaleOut",name:"缩放退出",description:"从大到小缩放",duration:300,easing:"ease-in",keyframes:[{startTime:0,duration:300,scale:1},{startTime:300,duration:300,scale:0}]},rotateIn:{id:"rotateIn",name:"旋转进入",description:"旋转180度进入",duration:500,easing:"ease-out",keyframes:[{startTime:0,duration:500,rotation:-180},{startTime:500,duration:500,rotation:0}]},bounceIn:{id:"bounceIn",name:"弹跳进入",description:"弹性进入效果",duration:600,easing:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",keyframes:[{startTime:0,duration:150,scale:0},{startTime:150,duration:150,scale:1.1},{startTime:300,duration:150,scale:.9},{startTime:450,duration:150,scale:1}]},shake:{id:"shake",name:"摇摆",description:"左右摇摆效果",duration:500,keyframes:[{startTime:0,duration:100,x:0},{startTime:100,duration:100,x:-10},{startTime:200,duration:100,x:10},{startTime:300,duration:100,x:-10},{startTime:400,duration:100,x:0}]},pulse:{id:"pulse",name:"脉冲",description:"缩放脉冲效果",duration:1e3,keyframes:[{startTime:0,duration:333,scale:1},{startTime:333,duration:334,scale:1.05},{startTime:667,duration:333,scale:1}]}},$e={class:"grid grid-cols-3 gap-4 h-[75vh] overflow-hidden"},qe={class:"space-y-4 overflow-y-auto custom-scrollbar"},Me={class:"space-y-3"},Oe={class:"text-sm font-medium flex items-center gap-2"},Xe={class:"p-4 border rounded-lg space-y-4"},je={class:"space-y-1"},ze={class:"grid grid-cols-2 gap-3"},Re={class:"space-y-1"},Ee={class:"space-y-1"},Ne={class:"space-y-3"},Fe={class:"text-sm font-medium flex items-center gap-2"},Be={class:"p-4 border rounded-lg space-y-4"},Je={class:"grid grid-cols-2 gap-3"},Ke={class:"space-y-1"},Ze={class:"space-y-1"},Ge={class:"grid grid-cols-2 gap-3"},He={class:"space-y-1"},We={class:"space-y-1"},Qe={class:"grid grid-cols-2 gap-3"},es={class:"space-y-1"},ss={class:"space-y-1"},ts={class:"space-y-4 overflow-hidden flex flex-col"},as={class:"space-y-2"},ls={class:"text-sm font-medium flex items-center gap-2"},os={class:"space-y-1 max-h-48 overflow-y-auto custom-scrollbar"},ns=["onClick"],is={class:"flex items-center justify-between"},ds={class:"text-sm font-medium"},us={class:"text-xs text-muted-foreground"},rs={class:"flex-1 space-y-2 overflow-hidden flex flex-col"},ms={class:"flex-1 space-y-2 overflow-y-auto custom-scrollbar"},cs=["onDragover","onDrop","onDragstart"],ps={class:"flex-1"},vs={class:"flex items-center gap-2"},fs={class:"text-sm font-medium"},xs={class:"text-xs bg-muted px-2 py-1 rounded"},_s={class:"text-xs text-muted-foreground"},gs={class:"flex items-center gap-1"},ys={key:0,class:"text-center py-8 text-muted-foreground"},Vs={class:"space-y-4 overflow-hidden flex flex-col"},hs={class:"flex-1 space-y-2 overflow-hidden flex flex-col"},bs={class:"flex items-center justify-between"},ws={class:"flex items-center gap-2"},Ts={class:"text-xs text-muted-foreground"},Us={class:"flex-1 relative overflow-hidden"},Ss={key:0,class:"space-y-4"},Ps={class:"space-y-3"},ks={class:"grid grid-cols-2 gap-3"},As={class:"space-y-1"},Ys={class:"space-y-1"},Cs={class:"space-y-1"},Is={class:"space-y-1"},Ds={class:"space-y-3"},Ls={class:"flex items-center justify-between"},$s={class:"space-y-2 max-h-60 overflow-y-auto"},qs={class:"flex items-center justify-between"},Ms={class:"text-xs font-medium"},Os={class:"grid grid-cols-2 gap-2"},Xs={class:"space-y-1"},js={class:"space-y-1"},zs={class:"grid grid-cols-3 gap-2"},Rs={class:"space-y-1"},Es={class:"space-y-1"},Ns={class:"space-y-1"},Fs={class:"grid grid-cols-3 gap-2"},Bs={class:"space-y-1"},Js={class:"space-y-1"},Ks={class:"space-y-1"},Zs=Ve({__name:"AnimationManager",emits:["animationSaved"],setup(i,{expose:r,emit:f}){const L=f,S=g(!1),V=g(null),w=g(!1),Y=g(!1),m=g(null),C=g(-1),h=g(-1),I=g(-1),D={x:0,y:0,opacity:1,scaleX:1,scaleY:1,rotation:0},P=g(""),k=g(!1),d=g({media:void 0,name:void 0,description:void 0,width:void 0,height:void 0,initialPosition:{...D},animationSequences:[]}),{toast:_}=Ue();he(d,o=>{if(!k.value)try{P.value=M.parseJsonToYaml(o)}catch(e){console.error("自动更新YAML失败:",e)}},{deep:!0});const O=E(()=>{try{return M.parseJsonToYaml(d.value)}catch(o){return console.error("生成YAML失败:",o),"# YAML生成失败，请检查动画数据"}}),ae=E(()=>O.value.split(`
`).length),le=o=>{d.value.animationSequences.push(o),_.success(`已添加 ${o.name} 动画`)},oe=o=>{const e=d.value.animationSequences[o];d.value.animationSequences.splice(o,1),_.success(`已删除 ${e.name} 动画`)},ne=o=>{C.value=o,m.value={...d.value.animationSequences[o]},Y.value=!0},ie=()=>{if(!m.value)return;m.value.keyframes||(m.value.keyframes=[]);const o={startTime:0,duration:1e3,x:0,y:0,opacity:1,scaleX:1,scaleY:1,rotation:0};m.value.keyframes.push(o)},de=o=>{!m.value||!m.value.keyframes||m.value.keyframes.splice(o,1)},z=()=>{Y.value=!1,m.value=null,C.value=-1},ue=()=>{!m.value||C.value===-1||(d.value.animationSequences[C.value]={...m.value},z(),_.success("动画编辑已保存"))},re=o=>{h.value=o},me=(o,e)=>{o.preventDefault(),I.value=e},ce=o=>{if(h.value===-1||h.value===o)return;const e=[...d.value.animationSequences],l=e[h.value];e.splice(h.value,1),e.splice(o,0,l),d.value.animationSequences=e,h.value=-1,I.value=-1,_.success("动画顺序已更新")},pe=()=>{h.value=-1,I.value=-1},ve=()=>{d.value.initialPosition={...D},_.success("已重置为默认值")},fe=()=>{if(!k.value){k.value=!0;try{const o=M.parseYamlToJson(P.value);console.log("应用YAML更改 - 解析后的数据:",o),o?(d.value={...o},d.value.initialPosition||(d.value.initialPosition={...D}),d.value.animationSequences||(d.value.animationSequences=[]),console.log("应用YAML更改 - 更新后的动画列表:",d.value.animationSequences),_.success("YAML更改已应用")):_.error("YAML解析失败，请检查格式")}catch(o){console.error("应用YAML更改失败:",o),_.error("应用YAML更改失败，请重试")}finally{k.value=!1}}},xe=async()=>{if(V.value){w.value=!0;try{const o=await De.update(parseInt(V.value.id),{animation_script:O.value});o.success?(V.value.animationScript=O.value,L("animationSaved",V.value),_.success("动画保存成功！"),X()):_.error("保存失败",o.message)}catch(o){console.error("保存动画失败:",o),_.error("保存动画失败，请重试")}finally{w.value=!1}}},_e=o=>{if(o){k.value=!0;try{const e=M.parseYamlToJson(o);console.log("AnimationManager - 解析后的数据:",e),e&&(d.value={...e},d.value.initialPosition||(d.value.initialPosition={...D}),d.value.animationSequences||(d.value.animationSequences=[]),P.value=o)}catch(e){console.error("解析动画脚本失败:",e),_.error("解析动画脚本失败，将使用默认值")}finally{k.value=!1}}},R=()=>{d.value={media:void 0,name:void 0,description:void 0,width:void 0,height:void 0,initialPosition:{...D},animationSequences:[]},P.value=""},ge=o=>{V.value=o,R(),o.animationScript&&_e(o.animationScript),S.value=!0},X=()=>{S.value=!1,V.value=null,Y.value=!1,m.value=null,C.value=-1,h.value=-1,I.value=-1,R()};return r({open:ge,close:X}),(o,e)=>(y(),T($,null,[a(s(F),{open:S.value,"onUpdate:open":e[10]||(e[10]=l=>S.value=l)},{default:n(()=>[a(s(B),{class:"max-w-7xl max-h-[95vh] overflow-hidden"},{default:n(()=>[a(s(J),null,{default:n(()=>[a(s(K),null,{default:n(()=>{var l;return[u("动画管理 - "+U((l=V.value)==null?void 0:l.elementName),1)]}),_:1}),a(s(G),null,{default:n(()=>e[16]||(e[16]=[u(" 管理此分镜内容的动画效果和初始位置 ",-1)])),_:1,__:[16]})]),_:1}),t("div",$e,[t("div",qe,[t("div",Me,[t("h3",Oe,[a(s(H),{class:"w-4 h-4"}),e[17]||(e[17]=u(" 媒体设置 ",-1))]),t("div",Xe,[t("div",je,[a(s(p),{class:"text-xs"},{default:n(()=>e[18]||(e[18]=[u("图片路径",-1)])),_:1,__:[18]}),a(s(v),{modelValue:d.value.media,"onUpdate:modelValue":e[0]||(e[0]=l=>d.value.media=l),type:"text",placeholder:"输入图片URL或路径",class:"h-8 text-xs"},null,8,["modelValue"])]),t("div",ze,[t("div",Re,[a(s(p),{class:"text-xs"},{default:n(()=>e[19]||(e[19]=[u("宽度",-1)])),_:1,__:[19]}),a(s(v),{modelValue:d.value.width,"onUpdate:modelValue":e[1]||(e[1]=l=>d.value.width=l),type:"number",placeholder:"自动",class:"h-8 text-xs"},null,8,["modelValue"])]),t("div",Ee,[a(s(p),{class:"text-xs"},{default:n(()=>e[20]||(e[20]=[u("高度",-1)])),_:1,__:[20]}),a(s(v),{modelValue:d.value.height,"onUpdate:modelValue":e[2]||(e[2]=l=>d.value.height=l),type:"number",placeholder:"自动",class:"h-8 text-xs"},null,8,["modelValue"])])])])]),t("div",Ne,[t("h3",Fe,[a(s(H),{class:"w-4 h-4"}),e[21]||(e[21]=u(" 基础位置设置 ",-1))]),t("div",Be,[t("div",Je,[t("div",Ke,[a(s(p),{class:"text-xs"},{default:n(()=>e[22]||(e[22]=[u("X 位置",-1)])),_:1,__:[22]}),a(s(v),{modelValue:d.value.initialPosition.x,"onUpdate:modelValue":e[3]||(e[3]=l=>d.value.initialPosition.x=l),type:"number",placeholder:"0",class:"h-8 text-xs"},null,8,["modelValue"])]),t("div",Ze,[a(s(p),{class:"text-xs"},{default:n(()=>e[23]||(e[23]=[u("Y 位置",-1)])),_:1,__:[23]}),a(s(v),{modelValue:d.value.initialPosition.y,"onUpdate:modelValue":e[4]||(e[4]=l=>d.value.initialPosition.y=l),type:"number",placeholder:"0",class:"h-8 text-xs"},null,8,["modelValue"])])]),t("div",Ge,[t("div",He,[a(s(p),{class:"text-xs"},{default:n(()=>e[24]||(e[24]=[u("X轴缩放",-1)])),_:1,__:[24]}),a(s(v),{modelValue:d.value.initialPosition.scaleX,"onUpdate:modelValue":e[5]||(e[5]=l=>d.value.initialPosition.scaleX=l),type:"number",min:"0",step:"0.1",placeholder:"1",class:"h-8 text-xs"},null,8,["modelValue"])]),t("div",We,[a(s(p),{class:"text-xs"},{default:n(()=>e[25]||(e[25]=[u("Y轴缩放",-1)])),_:1,__:[25]}),a(s(v),{modelValue:d.value.initialPosition.scaleY,"onUpdate:modelValue":e[6]||(e[6]=l=>d.value.initialPosition.scaleY=l),type:"number",min:"0",step:"0.1",placeholder:"1",class:"h-8 text-xs"},null,8,["modelValue"])])]),t("div",Qe,[t("div",es,[a(s(p),{class:"text-xs"},{default:n(()=>e[26]||(e[26]=[u("透明度",-1)])),_:1,__:[26]}),a(s(v),{modelValue:d.value.initialPosition.opacity,"onUpdate:modelValue":e[7]||(e[7]=l=>d.value.initialPosition.opacity=l),type:"number",min:"0",max:"1",step:"0.1",placeholder:"1",class:"h-8 text-xs"},null,8,["modelValue"])]),t("div",ss,[a(s(p),{class:"text-xs"},{default:n(()=>e[27]||(e[27]=[u("旋转角度",-1)])),_:1,__:[27]}),a(s(v),{modelValue:d.value.initialPosition.rotation,"onUpdate:modelValue":e[8]||(e[8]=l=>d.value.initialPosition.rotation=l),type:"number",placeholder:"0",class:"h-8 text-xs"},null,8,["modelValue"])])]),a(s(b),{variant:"outline",size:"sm",onClick:ve,class:"w-full h-7 text-xs"},{default:n(()=>[a(s(Se),{class:"w-3 h-3 mr-1"}),e[28]||(e[28]=u(" 重置为默认值 ",-1))]),_:1,__:[28]})])])]),t("div",ts,[t("div",as,[t("h3",ls,[a(s(Pe),{class:"w-4 h-4"}),e[29]||(e[29]=u(" 动画效果库 ",-1))]),t("div",os,[(y(!0),T($,null,j(s(Le),(l,x)=>(y(),T("div",{key:x,class:"p-3 border rounded-lg cursor-pointer hover:bg-accent transition-colors",onClick:c=>le(l)},[t("div",is,[t("div",null,[t("p",ds,U(l.name),1),t("p",us,U(l.description),1)]),a(s(W),{class:"w-4 h-4 text-muted-foreground"})])],8,ns))),128))])]),t("div",rs,[e[33]||(e[33]=t("div",{class:"flex items-center justify-between"},[t("h3",{class:"text-sm font-medium"},"当前动画效果")],-1)),t("div",ms,[(y(!0),T($,null,j(d.value.animationSequences,(l,x)=>(y(),T("div",{key:l.id,class:be(["flex items-center gap-3 p-3 border rounded-lg cursor-move hover:bg-accent transition-colors",{"opacity-50":h.value===x,"border-primary":I.value===x&&h.value!==x}]),draggable:"true",onDragover:c=>me(c,x),onDrop:c=>ce(x),onDragend:pe,onDragstart:c=>re(x)},[e[30]||(e[30]=t("div",{class:"flex flex-col gap-1 cursor-move opacity-50 hover:opacity-100"},[t("div",{class:"w-1 h-1 bg-muted-foreground rounded-full"}),t("div",{class:"w-1 h-1 bg-muted-foreground rounded-full"}),t("div",{class:"w-1 h-1 bg-muted-foreground rounded-full"})],-1)),t("div",ps,[t("div",vs,[t("p",fs,U(l.name),1),t("span",xs,U(l.duration)+"ms",1)]),t("p",_s,U(l.easing||"ease"),1)]),t("div",gs,[a(s(b),{variant:"ghost",size:"sm",onClick:c=>ne(x),class:"h-8 w-8 p-0"},{default:n(()=>[a(s(ke),{class:"w-3 h-3"})]),_:2},1032,["onClick"]),a(s(b),{variant:"ghost",size:"sm",onClick:c=>oe(x),class:"h-8 w-8 p-0 text-destructive hover:text-destructive"},{default:n(()=>[a(s(Q),{class:"w-3 h-3"})]),_:2},1032,["onClick"])])],42,cs))),128)),d.value.animationSequences.length===0?(y(),T("div",ys,[a(s(Ae),{class:"w-8 h-8 mx-auto mb-2"}),e[31]||(e[31]=t("p",{class:"text-sm"},"还没有添加动画效果",-1)),e[32]||(e[32]=t("p",{class:"text-xs"},"从上方选择动画效果添加",-1))])):q("",!0)])])]),t("div",Vs,[t("div",hs,[t("div",bs,[e[35]||(e[35]=t("label",{class:"text-sm font-medium"},"实时YAML脚本",-1)),t("div",ws,[t("span",Ts,U(ae.value)+" 行",1),a(s(b),{variant:"outline",size:"sm",onClick:fe,class:"h-7 text-xs",disabled:w.value},{default:n(()=>[w.value?(y(),N(s(ee),{key:0,class:"w-3 h-3 mr-1 animate-spin"})):q("",!0),e[34]||(e[34]=u(" 应用更改 ",-1))]),_:1,__:[34]},8,["disabled"])])]),t("div",Us,[we(t("textarea",{"onUpdate:modelValue":e[9]||(e[9]=l=>P.value=l),class:"bg-muted p-3 rounded text-xs overflow-auto h-full w-full resize-none border-0 focus:ring-2 focus:ring-ring focus:outline-none yaml-textarea",placeholder:"在此编辑YAML脚本...",spellcheck:"false"},null,512),[[Te,P.value]])])])])]),a(s(Z),null,{default:n(()=>[a(s(b),{variant:"outline",onClick:X},{default:n(()=>e[36]||(e[36]=[u("取消",-1)])),_:1,__:[36]}),a(s(b),{onClick:xe,disabled:w.value},{default:n(()=>[w.value?(y(),N(s(ee),{key:0,class:"w-4 h-4 mr-1 animate-spin"})):q("",!0),e[37]||(e[37]=u(" 保存动画 ",-1))]),_:1,__:[37]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),a(s(F),{open:Y.value,"onUpdate:open":e[15]||(e[15]=l=>Y.value=l)},{default:n(()=>[a(s(B),{class:"max-w-2xl"},{default:n(()=>[a(s(J),null,{default:n(()=>[a(s(K),null,{default:n(()=>{var l;return[u("编辑动画 - "+U((l=m.value)==null?void 0:l.name),1)]}),_:1}),a(s(G),null,{default:n(()=>e[38]||(e[38]=[u(" 修改动画的基本属性和关键帧设置 ",-1)])),_:1,__:[38]})]),_:1}),m.value?(y(),T("div",Ss,[t("div",Ps,[e[43]||(e[43]=t("h3",{class:"text-sm font-medium"},"基本信息",-1)),t("div",ks,[t("div",As,[a(s(p),{class:"text-xs"},{default:n(()=>e[39]||(e[39]=[u("动画名称",-1)])),_:1,__:[39]}),a(s(v),{modelValue:m.value.name,"onUpdate:modelValue":e[11]||(e[11]=l=>m.value.name=l),class:"h-8 text-xs"},null,8,["modelValue"])]),t("div",Ys,[a(s(p),{class:"text-xs"},{default:n(()=>e[40]||(e[40]=[u("持续时间 (ms)",-1)])),_:1,__:[40]}),a(s(v),{modelValue:m.value.duration,"onUpdate:modelValue":e[12]||(e[12]=l=>m.value.duration=l),type:"number",min:"100",step:"100",class:"h-8 text-xs"},null,8,["modelValue"])])]),t("div",Cs,[a(s(p),{class:"text-xs"},{default:n(()=>e[41]||(e[41]=[u("缓动函数",-1)])),_:1,__:[41]}),a(s(v),{modelValue:m.value.easing,"onUpdate:modelValue":e[13]||(e[13]=l=>m.value.easing=l),placeholder:"ease-in-out",class:"h-8 text-xs"},null,8,["modelValue"])]),t("div",Is,[a(s(p),{class:"text-xs"},{default:n(()=>e[42]||(e[42]=[u("描述",-1)])),_:1,__:[42]}),a(s(v),{modelValue:m.value.description,"onUpdate:modelValue":e[14]||(e[14]=l=>m.value.description=l),class:"h-8 text-xs"},null,8,["modelValue"])])]),t("div",Ds,[t("div",Ls,[e[45]||(e[45]=t("h3",{class:"text-sm font-medium"},"关键帧设置",-1)),a(s(b),{variant:"outline",size:"sm",onClick:ie,class:"h-7 text-xs"},{default:n(()=>[a(s(W),{class:"w-3 h-3 mr-1"}),e[44]||(e[44]=u(" 添加关键帧 ",-1))]),_:1,__:[44]})]),t("div",$s,[(y(!0),T($,null,j(m.value.keyframes,(l,x)=>(y(),T("div",{key:x,class:"p-3 border rounded-lg space-y-2"},[t("div",qs,[t("span",Ms,"关键帧 "+U(x+1),1),a(s(b),{variant:"ghost",size:"sm",onClick:c=>de(x),class:"h-6 w-6 p-0 text-destructive"},{default:n(()=>[a(s(Q),{class:"w-3 h-3"})]),_:2},1032,["onClick"])]),t("div",Os,[t("div",Xs,[a(s(p),{class:"text-xs"},{default:n(()=>e[46]||(e[46]=[u("时间 (ms)",-1)])),_:1,__:[46]}),a(s(v),{modelValue:l.startTime,"onUpdate:modelValue":c=>l.startTime=c,type:"number",min:"0",class:"h-7 text-xs"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",js,[a(s(p),{class:"text-xs"},{default:n(()=>e[47]||(e[47]=[u("持续时间 (ms)",-1)])),_:1,__:[47]}),a(s(v),{modelValue:l.duration,"onUpdate:modelValue":c=>l.duration=c,type:"number",min:"0",class:"h-7 text-xs"},null,8,["modelValue","onUpdate:modelValue"])])]),t("div",zs,[t("div",Rs,[a(s(p),{class:"text-xs"},{default:n(()=>e[48]||(e[48]=[u("X",-1)])),_:1,__:[48]}),a(s(v),{modelValue:l.x,"onUpdate:modelValue":c=>l.x=c,type:"number",class:"h-7 text-xs"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Es,[a(s(p),{class:"text-xs"},{default:n(()=>e[49]||(e[49]=[u("Y",-1)])),_:1,__:[49]}),a(s(v),{modelValue:l.y,"onUpdate:modelValue":c=>l.y=c,type:"number",class:"h-7 text-xs"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Ns,[a(s(p),{class:"text-xs"},{default:n(()=>e[50]||(e[50]=[u("透明度",-1)])),_:1,__:[50]}),a(s(v),{modelValue:l.opacity,"onUpdate:modelValue":c=>l.opacity=c,type:"number",min:"0",max:"1",step:"0.1",class:"h-7 text-xs"},null,8,["modelValue","onUpdate:modelValue"])])]),t("div",Fs,[t("div",Bs,[a(s(p),{class:"text-xs"},{default:n(()=>e[51]||(e[51]=[u("X缩放",-1)])),_:1,__:[51]}),a(s(v),{modelValue:l.scaleX,"onUpdate:modelValue":c=>l.scaleX=c,type:"number",min:"0",step:"0.1",class:"h-7 text-xs"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Js,[a(s(p),{class:"text-xs"},{default:n(()=>e[52]||(e[52]=[u("Y缩放",-1)])),_:1,__:[52]}),a(s(v),{modelValue:l.scaleY,"onUpdate:modelValue":c=>l.scaleY=c,type:"number",min:"0",step:"0.1",class:"h-7 text-xs"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Ks,[a(s(p),{class:"text-xs"},{default:n(()=>e[53]||(e[53]=[u("旋转",-1)])),_:1,__:[53]}),a(s(v),{modelValue:l.rotation,"onUpdate:modelValue":c=>l.rotation=c,type:"number",class:"h-7 text-xs"},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))])])])):q("",!0),a(s(Z),null,{default:n(()=>[a(s(b),{variant:"outline",onClick:z},{default:n(()=>e[54]||(e[54]=[u("取消",-1)])),_:1,__:[54]}),a(s(b),{onClick:ue},{default:n(()=>e[55]||(e[55]=[u("保存",-1)])),_:1,__:[55]})]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),Gs=Ye(Zs,[["__scopeId","data-v-d11a66bb"]]),ct=Object.freeze(Object.defineProperty({__proto__:null,default:Gs},Symbol.toStringTag,{value:"Module"}));export{Gs as A,ct as a,De as s,mt as u};
