import{g as V}from"./index-CH_iu5NA.js";import{d as v,h as O,c as d,o as i,n as R,u as c,a as o,f as E,t as b,b as a,E as N,T as B,w as f,F as g,j as K,g as M,r as p,p as z,i as F}from"./app-Dynu5tc5.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-CmafWrlK.js";import{_ as G}from"./StoryboardCanvas.vue_vue_type_script_setup_true_lang-Sk6UgN2J.js";import W from"./Timeline-fiN4GT94.js";import X from"./StoryboardList-D71A0lLI.js";import{u as q}from"./useToast-zrdN7exZ.js";import{b as H}from"./Button.vue_vue_type_script_setup_true_lang-BgPnemTW.js";import{X as J}from"./x-BE0BvSeC.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CUUO6Z42.js";import"./DropdownMenuLabel.vue_vue_type_script_setup_true_lang-BagbxIyi.js";import"./createLucideIcon-CZW-bvdG.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-mndLukLN.js";import"./settings-C2RLwdqr.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C9_ic-40.js";import"./AnimationPlayer-CK-JCqiT.js";import"./AnimationParser-DYUHDxlX.js";import"./play-0jxsF_Wc.js";import"./square-BNppj9Dq.js";import"./rotate-ccw-fWqiG3MN.js";import"./skip-forward-CMt3hMhQ.js";import"./AnimationManager-DExE0rsb.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Bnsa-2D0.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-DtC2VvC9.js";import"./Label.vue_vue_type_script_setup_true_lang-BZ8aVwwL.js";import"./sparkles-B9kMw0gE.js";import"./trash-2-CYySEXdi.js";import"./zap-D2Tn7i4y.js";import"./loader-circle-BVPnn1NH.js";import"./ConfirmDialog.vue_vue_type_script_setup_true_lang-B_LN3UxP.js";import"./CreateContentDialog.vue_vue_type_script_setup_true_lang-O11PWIQk.js";import"./upload-Ba6rq5iT.js";import"./StoryboardItem-uOpuphHx.js";import"./ImagePreview.vue_vue_type_script_setup_true_lang-BJUQUqsH.js";import"./image-DckTtAF3.js";import"./grip-vertical-0wdWM_Gj.js";import"./ellipsis-vertical-Bj-pqAIa.js";import"./copy-DgEB3pVI.js";import"./SourceCodeViewer.vue_vue_type_script_setup_true_lang-CJA2GJxd.js";const Q={class:"grid gap-1"},U={class:"text-sm font-semibold"},Y={key:0,class:"text-sm opacity-90"},Z=v({__name:"Toast",props:{toast:{}},emits:["close"],setup(m){const n=m,s=H("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground",success:"border-green-200 bg-green-50 text-green-900 dark:border-green-800 dark:bg-green-950 dark:text-green-100",warning:"border-yellow-200 bg-yellow-50 text-yellow-900 dark:border-yellow-800 dark:bg-yellow-950 dark:text-yellow-100",info:"border-blue-200 bg-blue-50 text-blue-900 dark:border-blue-800 dark:bg-blue-950 dark:text-blue-100"}},defaultVariants:{variant:"default"}}),l=O(()=>{switch(n.toast.type){case"success":return"success";case"error":return"destructive";case"warning":return"warning";case"info":return"info";default:return"default"}});return(t,r)=>(i(),d("div",{class:R(["pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all",c(s)({variant:l.value}),"animate-in slide-in-from-right-full duration-300"])},[o("div",Q,[o("div",U,b(t.toast.title),1),t.toast.description?(i(),d("div",Y,b(t.toast.description),1)):E("",!0)]),o("button",{onClick:r[0]||(r[0]=u=>t.$emit("close")),class:"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100"},[a(c(J),{class:"h-4 w-4"})])],2))}}),ee={class:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"},te=v({__name:"ToastProvider",setup(m){const{toasts:n,removeToast:s}=q();return(l,t)=>(i(),d("div",null,[N(l.$slots,"default",{},void 0,!0),o("div",ee,[a(B,{name:"toast",tag:"div",class:"space-y-2"},{default:f(()=>[(i(!0),d(g,null,K(c(n),r=>(i(),M(Z,{key:r.id,toast:r,onClose:u=>c(s)(r.id)},null,8,["toast","onClose"]))),128))]),_:1})])]))}}),oe=h(te,[["__scopeId","data-v-cf6ef789"]]),re={class:"flex h-[calc(100vh-4rem)] flex-col bg-muted/50 dark:bg-muted/20"},ae={class:"flex-1 flex"},se={class:"flex-1 flex items-center justify-center p-6"},le={class:"relative w-full h-full flex items-center justify-center"},ie={class:"relative max-w-full max-h-full",style:{aspectRatio:"16/9",width:"min(100%, calc(100vh * 16/9 - 12rem))",height:"min(100%, calc(100vw * 9/16 - 8rem))"}},ne={class:"w-80 border-l"},de={class:"h-48 border-t"},ce=v({__name:"Storyboard",setup(m){const n=[{title:"分镜画板",href:"/storyboard"}],s=p(),l=p(null),t=p(),r=e=>{l.value=e},u=e=>{console.log("Object modified:",e)},_=()=>{t.value&&t.value.play()},y=()=>{t.value&&t.value.pause()},w=()=>{t.value&&t.value.restart().pause()},x=e=>{t.value&&t.value.seek(e)},k=()=>{console.log("Add keyframe at current time")},S=e=>{console.log("Remove keyframe:",e)},I=e=>{console.log("Selected storyboard item:",e)},j=e=>{console.log("Play storyboard item:",e),e.animation&&t.value&&(t.value.clear(),t.value.play())},P=e=>{console.log("Edit storyboard item:",e)},$=e=>{console.log("Delete storyboard item:",e)},T=e=>{console.log("Duplicate storyboard item:",e)},A=e=>{console.log("Toggle visibility for item:",e)},C=()=>{console.log("Add new storyboard item")},D=async e=>{console.log("Preview animation for item:",e),s.value&&await s.value.playAnimation(e)};return z(()=>{t.value=V.timeline({paused:!0})}),(e,me)=>(i(),d(g,null,[a(c(F),{title:"分镜画板"}),a(L,{breadcrumbs:n},{default:f(()=>[a(oe,null,{default:f(()=>[o("div",re,[o("div",ae,[o("div",se,[o("div",le,[o("div",ie,[a(G,{ref_key:"canvasRef",ref:s,class:"w-full h-full",onObjectSelected:r,onObjectModified:u},null,512)])])]),o("div",ne,[a(X,{onSelectItem:I,onPlayItem:j,onEditItem:P,onDeleteItem:$,onDuplicateItem:T,onToggleVisibility:A,onAddNewItem:C,onPreviewAnimation:D})])]),o("div",de,[a(W,{duration:10,"selected-object":l.value,onPlay:_,onPause:y,onStop:w,onSeek:x,onAddKeyframe:k,onRemoveKeyframe:S},null,8,["selected-object"])])])]),_:1})]),_:1})],64))}}),Ye=h(ce,[["__scopeId","data-v-726fe4f1"]]);export{Ye as default};
